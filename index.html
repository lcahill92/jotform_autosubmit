<!DOCTYPE html>
<html>
    <head>
        <!-- Load JotForm's Custom Widget SDK -->
        <script src="//js.jotform.com/JotFormCustomWidget.min.js"></script>
    </head>
    <body>
        <div id="widget-container">
            <h3>The form will auto-submit shortly, this is a test...</h3>
        </div>
        <script type="text/javascript">
            // Subscribe to the "ready" event
            JFCustomWidget.subscribe("ready", function () {
                console.log("Widget initialized!");

                // Notify JotForm that the widget is initialized
                JFCustomWidget.sendData({ initialized: true });

                // Trigger auto-submit after a delay
                setTimeout(function () {
                    console.log("Sending form submission...");
                    JFCustomWidget.sendSubmit({
                        valid: true, // Indicates validation passed
                        value: "Auto-submitted by the widget" // Placeholder value
                    });
                }, 3000); // Auto-submit after 3 seconds
            });
        </script>
    </body>
</html>
