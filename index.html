<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch Canonical URL</title>
</head>
<body>
    <script>
        /**
         * Fetches the canonical URL and logs it to the console.
         */
        function logCanonicalUrl() {
            let canonicalUrl = null;

            // Attempt to fetch the canonical URL from the <link rel="canonical"> tag
            const canonicalTag = document.querySelector('link[rel="canonical"]');
            if (canonicalTag && canonicalTag.href) {
                canonicalUrl = canonicalTag.href;
                console.log("Canonical URL found in <link rel='canonical'> tag:", canonicalUrl);
            } else {
                console.warn("No <link rel='canonical'> tag found. Trying alternative methods.");
            }

            // If no canonical URL is found, log a fallback message
            if (!canonicalUrl) {
                canonicalUrl = document.location.href;
                console.log("Fallback: Using document.location.href as the URL:", canonicalUrl);
            }

            // Log the final canonical URL to the console
            console.log("Final Canonical URL:", canonicalUrl);
        }

        // Execute the function to log the canonical URL on page load
        window.onload = logCanonicalUrl;
    </script>
</body>
</html>